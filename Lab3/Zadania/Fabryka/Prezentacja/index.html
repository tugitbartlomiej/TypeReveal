<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <title>Wzorce Factory - Salon Bajtazara</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Reveal.js (slajdy) -->
  <link rel="stylesheet" href="https://unpkg.com/reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js/dist/theme/black.css" id="theme">

  <!-- Prism.js (kolorowanie sk≈Çadni) -->
  <link rel="stylesheet" href="https://unpkg.com/prismjs/themes/prism-tomorrow.css">
  <script defer src="https://unpkg.com/prismjs/prism.js"></script>
  <script defer src="https://unpkg.com/prismjs/components/prism-java.min.js"></script>

  <style>
    :root { --pad: 18px }
    .reveal pre {
      font-size: 0.95rem;
      line-height: 1.35;
      max-height: 500px;
      overflow-y: auto;
      overflow-x: auto;
    }
    .reveal pre, pre[class*="language-"] { white-space: pre; }
    .typed-cursor { opacity: 1; animation: blink 1s infinite; }
    @keyframes blink { 50% { opacity: 0; } }

    /* Stylowanie scrollbara */
    .reveal pre::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }
    .reveal pre::-webkit-scrollbar-track {
      background: rgba(0,0,0,0.3);
      border-radius: 5px;
    }
    .reveal pre::-webkit-scrollbar-thumb {
      background: rgba(102,126,234,0.6);
      border-radius: 5px;
    }
    .reveal pre::-webkit-scrollbar-thumb:hover {
      background: rgba(102,126,234,0.8);
    }
    .controls-local { margin-top: var(--pad); display: flex; gap: 12px; align-items: center; opacity: .9; font-size: .9rem }
    .controls-local button { padding: 6px 10px; border: 0; border-radius: 8px; cursor: pointer; background: #667eea; color: white; font-weight: bold; }
    .controls-local button:hover { background: #5568d3; }
    .hint { opacity:.7; font-size:.85rem; margin-top: 8px; color: #aaa; }

    /* Wizualizacja Factory */
    .factory-viz {
      display: flex;
      justify-content: space-around;
      align-items: center;
      margin: 30px 0;
      padding: 20px;
      background: rgba(255,255,255,0.05);
      border-radius: 10px;
    }
    .car-box {
      padding: 20px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      font-size: 1.2rem;
      font-weight: bold;
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .car-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 24px rgba(102,126,234,0.5);
    }
    .car-box.active {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      transform: scale(1.1);
    }

    .arrow {
      font-size: 2rem;
      color: #667eea;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Problem highlights */
    .problem-box {
      background: rgba(255,87,34,0.2);
      border-left: 4px solid #FF5722;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
    }

    .solution-box {
      background: rgba(76,175,80,0.2);
      border-left: 4px solid #4CAF50;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
    }

    /* Comparison table */
    .comparison-table {
      margin: 20px auto;
      border-collapse: collapse;
      font-size: 0.9rem;
    }
    .comparison-table th, .comparison-table td {
      padding: 12px;
      border: 1px solid #444;
    }
    .comparison-table th {
      background: #667eea;
      font-weight: bold;
    }
    .comparison-table td {
      background: rgba(255,255,255,0.05);
    }
    .comparison-table .good { color: #4CAF50; font-size: 1.5rem; }
    .comparison-table .bad { color: #FF5722; font-size: 1.5rem; }

    /* Diagram styles */
    .diagram-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      margin: 30px 0;
    }

    .diagram-row {
      display: flex;
      gap: 20px;
      align-items: center;
    }

    .diagram-box {
      padding: 15px 25px;
      background: rgba(102,126,234,0.3);
      border: 2px solid #667eea;
      border-radius: 8px;
      font-size: 1rem;
      min-width: 150px;
      text-align: center;
    }

    .diagram-arrow {
      font-size: 2rem;
      color: #667eea;
    }
  </style>
</head>
<body>
<div class="reveal">
  <div class="slides">

    <!-- slide-00-tytul.html -->
    <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
  <h1>üè≠ Wzorce Projektowe</h1>
  <h2>Factory Method<br/>& Abstract Factory</h2>
  <p style="font-size: 1.2rem; margin-top: 40px;">Salon Bajtazara - Specjalne funkcje samochod√≥w</p>
  <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 20px;">Naci≈õnij ‚Üí aby rozpoczƒÖƒá</p>
 </section>

    <!-- slide-01-zadanie (wstrzykniƒôte) -->
    <section>
      <h2>üß™ ƒÜwiczenie: Tre≈õƒá Zadania</h2>
      <div style="text-align: left; margin: 20px 0; line-height: 1.7;">
        <p>Stw√≥rz prosty program w Javie dla ‚ÄûSalonu Bajtazara‚Äù. Ka≈ºdy samoch√≥d ma markƒô, cenƒô, metodƒô <code>jedz()</code> oraz unikalne funkcje:</p>
        <ul>
          <li><strong>BMW M5</strong> ‚Äî <code>aktywujTrybM()</code></li>
          <li><strong>Jaguar F-Type</strong> ‚Äî <code>wydajRyk()</code></li>
          <li><strong>Bentley Continental GT</strong> ‚Äî <code>wlaczMasazFoteli()</code></li>
          <li><strong>Koenigsegg Jesko</strong> ‚Äî <code>aktywujTryb1600KM()</code>, <code>wlaczSystemNitro()</code>, <code>sprawdzPredkoscMaksymalna()</code></li>
        </ul>
        <p><strong>Wykonaj:</strong></p>
        <ol>
          <li>Utw√≥rz klasy aut i obiekty w <code>main</code>.</li>
          <li>Wypisz markƒô i cenƒô ka≈ºdego auta.</li>
          <li>Wywo≈Çaj <code>jedz()</code> oraz specjalne funkcje.</li>
        </ol>
        <p style="opacity:.85;">Pe≈Çny opis: <code>Zadania/ZADANIE_01_PODSTAWOWE.md</code></p>
      </div>
      <div class="solution-box">
        <h4>Uruchamianie (lokalnie)</h4>
        <pre style="font-size:.9rem; margin:0"><code>javac SalonDemo.java
java SalonDemo</code></pre>
      </div>
      <p class="hint">Po wykonaniu ‚Äî przejdziemy do refaktoryzacji: interfejs ‚Üí fabryka.</p>
    </section>

    <!-- slide-01-problem.html -->
    <section>
  <h2>Problem do RozwiƒÖzania</h2>

  <div style="text-align: left; margin: 20px 0;">
    <h3 style="color: #667eea;">Salon Bajtazara sprzedaje 4 samochody:</h3>
    <ul style="font-size: 1.1rem; line-height: 1.8;">
      <li><strong>BMW M5</strong> (300 000 z≈Ç) ‚Üí <code>aktywujTrybM()</code></li>
      <li><strong>Jaguar F-Type</strong> (280 000 z≈Ç) ‚Üí <code>wydajRyk()</code></li>
      <li><strong>Bentley Continental GT</strong> (850 000 z≈Ç) ‚Üí <code>wlaczMasazFoteli()</code></li>
      <li><strong>Koenigsegg Jesko</strong> (12 000 000 z≈Ç) ‚Üí <span style="color: #FF5722;">3 METODY!</span></li>
    </ul>
  </div>

  <div class="problem-box">
    <h4>Problem:</h4>
    <p>Ka≈ºdy samoch√≥d ma <strong>R√ì≈ªNE</strong> specjalne metody.</p>
    <p>Koenigsegg ma <strong>3 metody</strong> - jak to uog√≥lniƒá?</p>
  </div>
</section>

    <!-- slide-02-kod-start.html -->
    <section id="code-slide-start">
  <h3>Krok 0: Problem - Kod Startowy</h3>

  <pre><code id="code-start" class="language-java"></code></pre>

  <div class="controls-local">
    <button id="next-start">Nastƒôpny fragment</button>
    <button id="undo-start">Cofnij</button>
    <button id="reset-start">Reset</button>
  </div>

  <div style="margin-top: 15px; display: flex; align-items: center; gap: 10px;">
    <span style="font-size: 0.85rem; opacity: 0.8; min-width: 80px;">Postƒôp:</span>
    <input id="progress-start" type="range" min="0" max="100" value="0"
           style="flex: 1; cursor: pointer; height: 8px;">
    <span id="progress-label-start" style="font-size: 0.85rem; opacity: 0.8; min-width: 60px;">0 / 0</span>
  </div>

  <script type="application/json" id="steps-start">
  [
    "// ========== KLASA BMW ==========",
    "\nclass BMW {",
    "\n    marka = \"BMW M5\";",
    "<<REPLACE_LINE>>    String marka = \"BMW M5\";",
    "\n    cena = 300000;",
    "<<REPLACE_LINE>>    int cena = 300000;",
    "\n",
    "\n    void jedz() {",
    "\n        System.out.println(\"BMW jedzie!\");",
    "\n    }",
    "\n",
    "\n    void aktywujTrybM() {",
    "\n        System.out.println(\"TRYB M AKTYWNY! +100 KM!\");",
    "\n    }",
    "\n}",
    "\n",
    "\n// ========== KLASA KOENIGSEGG ==========",
    "\nclass Koenigsegg {",
    "\n    marka = \"Koenigsegg Jesko\";",
    "<<REPLACE_LINE>>    String marka = \"Koenigsegg Jesko\";",
    "\n    cena = 12000000;",
    "<<REPLACE_LINE>>    int cena = 12000000;",
    "\n",
    "\n    void jedz() {",
    "\n        System.out.println(\"Koenigsegg jedzie!\");",
    "\n    }",
    "\n",
    "\n    // UWAGA - 3 SPECJALNE METODY!",
    "\n    void aktywujTryb1600KM() {",
    "\n        System.out.println(\"TRYB 1600 KM AKTYWNY!!!\");",
    "\n    }",
    "\n",
    "\n    void wlaczSystemNitro() {",
    "\n        System.out.println(\"NITRO W≈ÅƒÑCZONE! BOOST!\");",
    "\n    }",
    "\n",
    "\n    void sprawdzPredkoscMaksymalna() {",
    "\n        System.out.println(\"Prƒôdko≈õƒá maks: 483 km/h!\");",
    "\n    }",
    "\n}",
    "\n",
    "\n// ========== U≈ªYCIE ==========",
    "\npublic class SalonDemo_START {",
    "\n    public static void main(String[] args) {",
    "\n        BMW bmw = new BMW();",
    "\n        bmw.jedz();",
    "\n        bmw.aktywujTrybM();",
    "\n",
    "\n        Koenigsegg k = new Koenigsegg();",
    "\n        k.jedz();",
    "\n        k.aktywujTryb1600KM();      // ‚Üê Metoda 1",
    "\n        k.wlaczSystemNitro();       // ‚Üê Metoda 2",
    "\n        k.sprawdzPredkoscMaksymalna(); // ‚Üê Metoda 3",
    "\n",
    "\n        // PROBLEM: Ka≈ºdy typ osobno!",
    "\n        // Nie mo≈ºemy zrobiƒá List<???> - r√≥≈ºne typy!",
    "\n    }",
    "\n}"
  ]
  </script>
</section>

    <!-- slide-03-analiza.html -->
    <section>
  <h3>Co Jest Z≈Çego?</h3>

  <div style="text-align: left; margin: 30px 0;">
    <div class="problem-box">
      <h4>1. Ka≈ºdy samoch√≥d to INNY TYP</h4>
      <pre style="font-size: 0.9rem;"><code class="language-java">BMW bmw = new BMW();
Jaguar jaguar = new Jaguar();
Koenigsegg k = new Koenigsegg();</code></pre>
      <p>‚Üí Nie mo≈ºemy zrobiƒá <code>List&lt;???&gt;</code></p>
    </div>

    <div class="problem-box" style="margin-top: 20px;">
      <h4>2. Ka≈ºdy ma INNE METODY</h4>
      <pre style="font-size: 0.9rem;"><code class="language-java">bmw.aktywujTrybM();     // ‚Üê BMW
jaguar.wydajRyk();       // ‚Üê Jaguar (inna!)
bentley.wlaczMasaz();    // ‚Üê Bentley (inna!)
k.aktywujTryb1600KM();   // ‚Üê Koenigsegg (3 metody!)</code></pre>
      <p>‚Üí Jak wywo≈Çaƒá je w pƒôtli?</p>
    </div>

    <div class="problem-box" style="margin-top: 20px;">
      <h4>3. Koenigsegg = KOSZMAR</h4>
      <p>3 specjalne metody ‚Üí 3√ó wiƒôcej kodu!</p>
    </div>
  </div>
</section>

    <!-- slide-04-ifelse.html -->
    <section id="code-slide-ifelse">
  <h3>Pr√≥ba 1: If-else (Z≈ÅA!)</h3>

  <pre><code id="code-ifelse" class="language-java"></code></pre>

  <div class="controls-local">
    <button id="next-ifelse">Nastƒôpny fragment</button>
    <button id="undo-ifelse">Cofnij</button>
    <button id="reset-ifelse">Reset</button>
  </div>

  <div style="margin-top: 15px; display: flex; align-items: center; gap: 10px;">
    <span style="font-size: 0.85rem; opacity: 0.8; min-width: 80px;">Postƒôp:</span>
    <input id="progress-ifelse" type="range" min="0" max="100" value="0"
           style="flex: 1; cursor: pointer; height: 8px;">
    <span id="progress-label-ifelse" style="font-size: 0.85rem; opacity: 0.8; min-width: 60px;">0 / 0</span>
  </div>

  <script type="application/json" id="steps-ifelse">
  [
    "public static void pokazSamochod(String marka) {",
    "\n    if (marka.equals(\"bmw\")) {",
    "\n        BMW auto = new BMW();",
    "\n        auto.jedz();",
    "\n        auto.aktywujTrybM(); // ‚Üê Muszƒô WIEDZIEƒÜ ≈ºe to BMW!",
    "\n",
    "\n    } else if (marka.equals(\"jaguar\")) {",
    "\n        Jaguar auto = new Jaguar();",
    "\n        auto.jedz();",
    "\n        auto.wydajRyk(); // ‚Üê Muszƒô WIEDZIEƒÜ ≈ºe to Jaguar!",
    "\n",
    "\n    } else if (marka.equals(\"koenigsegg\")) {",
    "\n        Koenigsegg auto = new Koenigsegg();",
    "\n        auto.jedz();",
    "\n        // NAJGORSZE - 3 R√ì≈ªNE metody!",
    "\n        auto.aktywujTryb1600KM();",
    "\n        auto.wlaczSystemNitro();",
    "\n        auto.sprawdzPredkoscMaksymalna();",
    "\n    }",
    "\n}",
    "\n",
    "\n// PROBLEM: If-else WSZƒòDZIE!",
    "\npublic static int pobierzCene(String marka) {",
    "\n    if (marka.equals(\"bmw\")) {",
    "\n        return 300000;",
    "\n    } else if (marka.equals(\"jaguar\")) {",
    "\n        return 280000;",
    "\n    } else if (marka.equals(\"koenigsegg\")) {",
    "\n        return 12000000;",
    "\n    }",
    "\n    return 0;",
    "\n}",
    "\n",
    "\n// If-else ZNOWU!",
    "\npublic static void testJazdy(String marka) {",
    "\n    if (marka.equals(\"bmw\")) {",
    "\n        BMW auto = new BMW();",
    "\n        auto.jedz();",
    "\n    } else if (marka.equals(\"koenigsegg\")) {",
    "\n        Koenigsegg auto = new Koenigsegg();",
    "\n        auto.jedz();",
    "\n    }",
    "\n}",
    "\n",
    "\n// DUPLIKACJA if-else w 3 miejscach!"
  ]
  </script>
</section>

    <!-- slide-05-dlaczego-zle.html -->
    <section>
  <h3>Dlaczego If-else to Z≈ÅE?</h3>

  <table class="comparison-table">
    <thead>
      <tr>
        <th>Problem</th>
        <th>Opis</th>
        <th>Skutek</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="bad">X</span>Duplikacja</td>
        <td>If-else w 3 metodach</td>
        <td>3√ó ten sam kod!</td>
      </tr>
      <tr>
        <td><span class="bad">X</span>Koenigsegg</td>
        <td>3 specjalne metody</td>
        <td>If-else 3√ó d≈Çu≈ºszy!</td>
      </tr>
      <tr>
        <td><span class="bad">X</span>Dodanie Ferrari</td>
        <td>Nowy samoch√≥d</td>
        <td>Zmiana w 10 miejscach!</td>
      </tr>
      <tr>
        <td><span class="bad">X</span>Brak listy</td>
        <td>R√≥≈ºne typy</td>
        <td>Nie mo≈ºemy iterowaƒá!</td>
      </tr>
    </tbody>
  </table>

  <div class="solution-box" style="margin-top: 30px;">
    <h4>Potrzebujemy lepszego rozwiƒÖzania!</h4>
    <p>Wskaz√≥wka: Co jest <strong>WSP√ìLNE</strong> dla wszystkich aut?</p>
    <p>Co jest <strong>R√ì≈ªNE</strong>?</p>
  </div>
</section>

    <!-- slide-06-interfejs.html -->
    <section id="code-slide-interface">
  <h3>RozwiƒÖzanie Krok 1: Interfejs</h3>

  <pre><code id="code-interface" class="language-java"></code></pre>

  <div class="controls-local">
    <button id="next-interface">Nastƒôpny fragment</button>
    <button id="undo-interface">Cofnij</button>
    <button id="reset-interface">Reset</button>
  </div>

  <div style="margin-top: 15px; display: flex; align-items: center; gap: 10px;">
    <span style="font-size: 0.85rem; opacity: 0.8; min-width: 80px;">Postƒôp:</span>
    <input id="progress-interface" type="range" min="0" max="100" value="0"
           style="flex: 1; cursor: pointer; height: 8px;">
    <span id="progress-label-interface" style="font-size: 0.85rem; opacity: 0.8; min-width: 60px;">0 / 0</span>
  </div>

  <script type="application/json" id="steps-interface">
  [
    "// ========== INTERFEJS SAMOCHOD ==========",
    "\ninterface Samochod {",
    "\n    // Metody WSP√ìLNE",
    "\n    String getMarka();",
    "\n    int getCena();",
    "\n    void jedz();",
    "\n",
    "\n    // KLUCZOWE: jedna metoda dla specjalnych funkcji!",
    "\n    void pokazSpecjalneFunkcje();",
    "\n}",
    "\n",
    "\n// ========== BMW IMPLEMENTUJE INTERFEJS ==========",
    "\nclass BMW implements Samochod {",
    "\n    public String getMarka() { return \"BMW M5\"; }",
    "\n    public int getCena() { return 300000; }",
    "\n",
    "\n    public void jedz() {",
    "\n        System.out.println(\"BMW jedzie!\");",
    "\n    }",
    "\n",
    "\n    public void pokazSpecjalneFunkcje() {",
    "\n        // BMW pokazuje SWOJƒÑ funkcjƒô",
    "\n        System.out.println(\"TRYB M AKTYWNY!\");",
    "\n    }",
    "\n}",
    "\n",
    "\n// ========== KOENIGSEGG IMPLEMENTUJE INTERFEJS ==========",
    "\nclass Koenigsegg implements Samochod {",
    "\n    public String getMarka() { return \"Koenigsegg Jesko\"; }",
    "\n    public int getCena() { return 12000000; }",
    "\n",
    "\n    public void jedz() {",
    "\n        System.out.println(\"Koenigsegg jedzie!\");",
    "\n    }",
    "\n",
    "\n    public void pokazSpecjalneFunkcje() {",
    "\n        // EGZOTYCZNY - wywo≈Çuje WSZYSTKIE 3 funkcje!",
    "\n        System.out.println(\"TRYB 1600 KM AKTYWNY!!!\");",
    "\n        System.out.println(\"NITRO W≈ÅƒÑCZONE!\");",
    "\n        System.out.println(\"Prƒôdko≈õƒá: 483 km/h!\");",
    "\n    }",
    "\n}",
    "\n",
    "\n// ========== TERAZ MO≈ªEMY U≈ªYƒÜ POLIMORFIZMU! ==========",
    "\npublic static void main(String[] args) {",
    "\n    // Wszystkie jako TEN SAM TYP!",
    "\n    Samochod bmw = new BMW();",
    "\n    Samochod k = new Koenigsegg();",
    "\n",
    "\n    // Mo≈ºemy zrobiƒá LISTƒò!",
    "\n    Samochod[] salon = {bmw, k};",
    "\n",
    "\n    // PƒòTLA DZIA≈ÅA!",
    "\n    for (Samochod auto : salon) {",
    "\n        auto.jedz();",
    "\n        auto.pokazSpecjalneFunkcje(); // ‚Üê ka≈ºdy robi SWOJE!",
    "\n    }",
    "\n}",
    "\n",
    "\n// Koenigsegg automatycznie wywo≈Çuje 3 funkcje!"
  ]
  </script>
</section>

    <!-- slide-07-kluczowa-koncepcja.html -->
    <section>
  <h3>Kluczowa Koncepcja: pokazSpecjalneFunkcje()</h3>

  <div class="diagram-container">
    <div style="text-align: left; width: 80%;">
      <h4 style="color: #FF5722;">Przed (bez interfejsu):</h4>
      <pre style="font-size: 0.9rem;"><code class="language-java">BMW bmw = new BMW();
bmw.aktywujTrybM();  // ‚Üê BMW ma tƒô metodƒô

Koenigsegg k = new Koenigsegg();
k.aktywujTryb1600KM();      // ‚Üê Koenigsegg ma 3 metody
k.wlaczSystemNitro();        // ‚Üê Wszystkie r√≥≈ºne!
k.sprawdzPredkoscMaksymalna(); // ‚Üê Jak uog√≥lniƒá?</code></pre>
    </div>

    <div style="margin: 30px 0;">
      <span class="diagram-arrow">‚Üì</span>
    </div>

    <div style="text-align: left; width: 80%;">
      <h4 style="color: #4CAF50;">Po (z interfejsem):</h4>
      <pre style="font-size: 0.9rem;"><code class="language-java">Samochod bmw = new BMW();
Samochod k = new Koenigsegg();

// JEDNA metoda dla wszystkich!
for (Samochod auto : salon) {
    auto.pokazSpecjalneFunkcje();
    // ‚Üë BMW wywo≈Çuje 1 funkcjƒô
    // ‚Üë Koenigsegg wywo≈Çuje 3 funkcje
    // ‚Üí To jest POLIMORFIZM!
}</code></pre>
    </div>
  </div>

  <div class="solution-box" style="margin-top: 30px;">
    <h4>To jest POLIMORFIZM!</h4>
    <p>Jedna metoda w interfejsie ‚Üí r√≥≈ºne implementacje w klasach</p>
  </div>
</section>

    <!-- slide-08-nadal-problem.html -->
    <section>
  <h3>Ale Nadal Jest Problem...</h3>

  <div class="problem-box">
    <h4>WciƒÖ≈º piszemy:</h4>
    <pre style="font-size: 1rem;"><code class="language-java">Samochod bmw = new BMW();
Samochod jaguar = new Jaguar();
Samochod bentley = new Bentley();</code></pre>
    <p>Musisz WIEDZIEƒÜ jakƒÖ klasƒô tworzyƒá!</p>
  </div>

  <div class="problem-box" style="margin-top: 20px;">
    <h4>Co je≈õli klient wybiera markƒô?</h4>
    <pre style="font-size: 1rem;"><code class="language-java">String marka = scanner.nextLine(); // "bmw"

// Znowu if-else???
if (marka.equals("bmw")) {
    Samochod auto = new BMW();
} else if (marka.equals("jaguar")) {
    Samochod auto = new Jaguar();
} // ...</code></pre>
  </div>

  <div class="solution-box" style="margin-top: 30px;">
    <h4>Potrzebujemy... FABRYKI!</h4>
    <p>Jedna metoda tworzƒÖca WSZYSTKIE samochody!</p>
  </div>
</section>

    <!-- slide-09-factory-method.html -->
    <section id="code-slide-factory">
  <h3>Wzorzec Factory Method</h3>

  <pre><code id="code-factory" class="language-java"></code></pre>

  <div class="controls-local">
    <button id="next-factory">Nastƒôpny fragment</button>
    <button id="undo-factory">Cofnij</button>
    <button id="reset-factory">Reset</button>
  </div>

  <div style="margin-top: 15px; display: flex; align-items: center; gap: 10px;">
    <span style="font-size: 0.85rem; opacity: 0.8; min-width: 80px;">Postƒôp:</span>
    <input id="progress-factory" type="range" min="0" max="100" value="0"
           style="flex: 1; cursor: pointer; height: 8px;">
    <span id="progress-label-factory" style="font-size: 0.85rem; opacity: 0.8; min-width: 60px;">0 / 0</span>
  </div>

  <script type="application/json" id="steps-factory">
  [
    "// ========== WZORZEC FACTORY METHOD ==========",
    "\nclass FabrykaSamochodow {",
    "\n",
    "\n    // Jedna metoda tworzy WSZYSTKIE samochody!",
    "\n    public static Samochod stworzSamochod(String marka) {",
    "\n        if (marka == null) return null;",
    "\n",
    "\n        // Normalizacja - case insensitive",
    "\n        String m = marka.toLowerCase().trim();",
    "\n",
    "\n        // FABRYKA - decyduje kt√≥ra klasa",
    "\n        switch (m) {",
    "\n            case \"bmw\":",
    "\n                return new BMW();",
    "\n",
    "\n            case \"jaguar\":",
    "\n                return new Jaguar();",
    "\n",
    "\n            case \"bentley\":",
    "\n                return new Bentley();",
    "\n",
    "\n            case \"koenigsegg\":",
    "\n                return new Koenigsegg();",
    "\n",
    "\n            default:",
    "\n                return null;",
    "\n        }",
    "\n    }",
    "\n}",
    "\n",
    "\n// ========== U≈ªYCIE FABRYKI ==========",
    "\npublic static void main(String[] args) {",
    "\n    // PRZED (bez fabryki):",
    "\n    // Samochod bmw = new BMW();",
    "\n",
    "\n    // PO (z fabrykƒÖ):",
    "\n    Samochod bmw = FabrykaSamochodow.stworzSamochod(\"bmw\");",
    "\n    Samochod k = FabrykaSamochodow.stworzSamochod(\"koenigsegg\");",
    "\n",
    "\n    // Jedna metoda, r√≥≈ºne parametry!",
    "\n    bmw.pokazSpecjalneFunkcje();  // TRYB M",
    "\n    k.pokazSpecjalneFunkcje();    // 3 funkcje automatycznie!",
    "\n",
    "\n    // LISTA DZIA≈ÅA!",
    "\n    String[] marki = {\"bmw\", \"jaguar\", \"bentley\", \"koenigsegg\"};",
    "\n    for (String m : marki) {",
    "\n        Samochod auto = FabrykaSamochodow.stworzSamochod(m);",
    "\n        auto.pokazSpecjalneFunkcje();",
    "\n    }",
    "\n}",
    "\n",
    "\n// If-else TYLKO w jednym miejscu (fabryka)!",
    "\n// Koenigsegg dzia≈Ça automatycznie!"
  ]
  </script>
</section>

    <!-- slide-10-wizualizacja.html -->
    <section>
  <h3 style="margin-bottom: 15px;">Wizualizacja: Factory Method</h3>

  <div class="diagram-container" style="gap: 8px; margin: 15px 0;">
    <div class="diagram-box" style="background: rgba(255,193,7,0.3); border-color: #FFC107; padding: 10px 20px;">
      String marka = "bmw"
    </div>

    <div class="diagram-arrow" style="font-size: 1.5rem;">‚Üì</div>

    <div class="diagram-box" style="background: rgba(102,126,234,0.5); border-color: #667eea; font-size: 1rem; padding: 10px 20px;">
      <strong>FabrykaSamochodow</strong><br/>
      .stworzSamochod(marka)
    </div>

    <div class="diagram-arrow" style="font-size: 1.5rem;">‚Üì</div>

    <div class="diagram-row" style="gap: 15px;">
      <div class="diagram-box" style="background: rgba(76,175,80,0.3); border-color: #4CAF50; padding: 10px 15px; font-size: 0.9rem;">
        new BMW()
      </div>
      <div class="diagram-box" style="background: rgba(76,175,80,0.3); border-color: #4CAF50; padding: 10px 15px; font-size: 0.9rem;">
        new Jaguar()
      </div>
      <div class="diagram-box" style="background: rgba(76,175,80,0.3); border-color: #4CAF50; padding: 10px 15px; font-size: 0.9rem;">
        new Koenigsegg()
      </div>
    </div>

    <div class="diagram-arrow" style="font-size: 1.5rem;">‚Üì</div>

    <div class="diagram-box" style="background: rgba(156,39,176,0.3); border-color: #9C27B0; font-size: 1rem; padding: 10px 20px;">
      <strong>Zwraca: Samochod</strong><br/>
      (interfejs!)
    </div>
  </div>

  <div class="solution-box" style="margin-top: 10px; padding: 10px 15px;">
    <h4 style="margin: 0 0 8px 0; font-size: 1.1rem;">Kluczowe: Zwraca INTERFEJS!</h4>
    <p style="margin: 5px 0; font-size: 0.95rem;">Metoda zwraca <code>Samochod</code>, nie <code>BMW</code> czy <code>Jaguar</code></p>
    <p style="margin: 5px 0; font-size: 0.95rem;">To pozwala na polimorfizm!</p>
  </div>
</section>

    <!-- slide-11-porownanie.html -->
    <section>
  <h3>Por√≥wnanie RozwiƒÖza≈Ñ</h3>

  <table class="comparison-table">
    <thead>
      <tr>
        <th>Wersja</th>
        <th>If-else?</th>
        <th>Lista?</th>
        <th>Koenigsegg?</th>
        <th>Dodanie Ferrari</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>START</strong></td>
        <td><span class="bad">X</span>Brak</td>
        <td><span class="bad">X</span>Brak</td>
        <td><span class="bad">X</span>3√ó kod</td>
        <td>Wszƒôdzie</td>
      </tr>
      <tr>
        <td><strong>IF-ELSE</strong></td>
        <td><span class="bad">X</span>Wszƒôdzie</td>
        <td><span class="bad">X</span>Brak</td>
        <td><span class="bad">X</span>Koszmar</td>
        <td>10 miejsc</td>
      </tr>
      <tr>
        <td><strong>INTERFEJS</strong></td>
        <td><span class="good">OK</span>Brak</td>
        <td><span class="good">OK</span>Dzia≈Ça</td>
        <td><span class="good">OK</span>Auto</td>
        <td>1 klasa</td>
      </tr>
      <tr style="background: rgba(102,126,234,0.3);">
        <td><strong>FACTORY</strong></td>
        <td><span class="good">OK</span>Raz</td>
        <td><span class="good">OK</span>Dzia≈Ça</td>
        <td><span class="good">OK</span>Auto</td>
        <td><strong>2 miejsca</strong></td>
      </tr>
    </tbody>
  </table>

  <div class="solution-box" style="margin-top: 30px;">
    <h4>Factory Method = Najlepsze rozwiƒÖzanie!</h4>
    <ul style="text-align: left; font-size: 1rem; line-height: 1.8;">
      <li>Polimorfizm (interfejs)</li>
      <li>If-else w jednym miejscu (fabryka)</li>
      <li>Koenigsegg dzia≈Ça automatycznie</li>
      <li>≈Åatwo dodaƒá nowy samoch√≥d</li>
    </ul>
  </div>
</section>

    <!-- slide-12-abstract-intro.html -->
    <section>
  <h3>A Co Je≈õli...</h3>

  <div class="problem-box">
    <h4>Problem: Chcemy PARƒò aut!</h4>
    <p style="font-size: 1.1rem;">Klient chce kupiƒá <strong>Sedan + SUV</strong> tej samej marki</p>
  </div>

  <div style="text-align: left; margin: 30px 0;">
    <h4 style="color: #FFC107;">Z Factory Method:</h4>
    <pre style="font-size: 0.95rem;"><code class="language-java">Samochod sedan = FabrykaSamochodow.stworzSamochod("bmw");
Samochod suv = FabrykaSamochodow.stworzSamochod("bentley"); // Ups!</code></pre>
    <p style="color: #FF5722;">Mo≈ºemy PRZYPADKOWO stworzyƒá BMW Sedan + Bentley SUV!</p>
  </div>

  <div class="solution-box" style="margin-top: 30px;">
    <h4>Potrzebujemy... ABSTRACT FACTORY!</h4>
    <p>Fabryka kt√≥ra tworzy <strong>RODZINƒò</strong> produkt√≥w!</p>
    <p>Gwarantowana sp√≥jno≈õƒá: oba to BMW lub oba to Bentley!</p>
  </div>
</section>

    <!-- slide-13-abstract-diagram.html -->
    <section>
  <h3>Abstract Factory - Koncepcja</h3>

  <div style="display: flex; gap: 40px; justify-content: space-around; margin: 40px 0;">
    <div style="text-align: center;">
      <div style="padding: 20px; background: rgba(33,150,243,0.3); border: 2px solid #2196F3; border-radius: 10px;">
        <h4>Factory Method</h4>
        <p style="font-size: 0.9rem; margin: 10px 0;">JEDEN produkt</p>
        <pre style="font-size: 0.8rem;"><code class="language-java">stworzSamochod()
    ‚Üì
  BMW</code></pre>
      </div>
    </div>

    <div style="text-align: center;">
      <div style="padding: 20px; background: rgba(76,175,80,0.3); border: 2px solid #4CAF50; border-radius: 10px;">
        <h4>Abstract Factory</h4>
        <p style="font-size: 0.9rem; margin: 10px 0;">RODZINA produkt√≥w</p>
        <pre style="font-size: 0.8rem;"><code class="language-java">FabrykaBMW:
  ‚Ä¢ stworzSedan() ‚Üí BMW Sedan
  ‚Ä¢ stworzSUV()   ‚Üí BMW SUV</code></pre>
      </div>
    </div>
  </div>

  <div class="diagram-container" style="margin-top: 40px;">
    <div class="diagram-box" style="background: rgba(255,193,7,0.3); border-color: #FFC107;">
      String marka = "bmw"
    </div>

    <div class="diagram-arrow">‚Üì</div>

    <div class="diagram-box" style="background: rgba(102,126,234,0.5); border-color: #667eea;">
      ProducentFabryk<br/>
      .getFabryka("bmw")
    </div>

    <div class="diagram-arrow">‚Üì</div>

    <div class="diagram-box" style="background: rgba(76,175,80,0.3); border-color: #4CAF50; font-size: 1.1rem;">
      <strong>FabrykaBMW</strong><br/>
      (tworzy TYLKO BMW!)
    </div>

    <div class="diagram-arrow">‚Üì</div>

    <div class="diagram-row">
      <div class="diagram-box" style="background: rgba(156,39,176,0.3); border-color: #9C27B0;">
        stworzSedan()<br/>
        ‚Üí BMW Sedan
      </div>
      <div class="diagram-box" style="background: rgba(156,39,176,0.3); border-color: #9C27B0;">
        stworzSUV()<br/>
        ‚Üí BMW SUV
      </div>
    </div>
  </div>

  <div class="solution-box" style="margin-top: 30px;">
    <h4>Gwarantowana sp√≥jno≈õƒá!</h4>
    <p>Jedna fabryka = jedna marka = sp√≥jna rodzina!</p>
  </div>
</section>

    <!-- slide-14-kiedy-uzywac.html -->
    <section>
  <h3>Kiedy U≈ºywaƒá Kt√≥rego Wzorca?</h3>

  <div style="display: flex; gap: 30px; justify-content: space-around; margin: 40px 0;">
    <div style="flex: 1; text-align: left;">
      <div style="padding: 20px; background: rgba(33,150,243,0.2); border-left: 4px solid #2196F3; border-radius: 5px;">
        <h4 style="color: #2196F3;">Factory Method</h4>
        <p style="margin: 15px 0;"><strong>Kiedy:</strong></p>
        <ul style="font-size: 0.95rem; line-height: 1.6;">
          <li>Tworzysz <strong>JEDEN TYP</strong> obiektu</li>
          <li>Produkty nie muszƒÖ pasowaƒá do siebie</li>
          <li>Prostsza struktura</li>
        </ul>
        <p style="margin: 15px 0;"><strong>Przyk≈Çad:</strong></p>
        <pre style="font-size: 0.85rem;"><code class="language-java">Samochod auto =
  stworzSamochod("bmw");</code></pre>
      </div>
    </div>

    <div style="flex: 1; text-align: left;">
      <div style="padding: 20px; background: rgba(76,175,80,0.2); border-left: 4px solid #4CAF50; border-radius: 5px;">
        <h4 style="color: #4CAF50;">Abstract Factory</h4>
        <p style="margin: 15px 0;"><strong>Kiedy:</strong></p>
        <ul style="font-size: 0.95rem; line-height: 1.6;">
          <li>Tworzysz <strong>RODZINƒò</strong> produkt√≥w</li>
          <li>Produkty MUSZƒÑ pasowaƒá do siebie</li>
          <li>Gwarantowana sp√≥jno≈õƒá</li>
        </ul>
        <p style="margin: 15px 0;"><strong>Przyk≈Çad:</strong></p>
        <pre style="font-size: 0.85rem;"><code class="language-java">Fabryka f = getFabryka("bmw");
Sedan s = f.stworzSedan();
SUV u = f.stworzSUV();</code></pre>
      </div>
    </div>
  </div>

  <div style="margin-top: 30px; padding: 20px; background: rgba(255,193,7,0.2); border-radius: 10px;">
    <h4 style="color: #FFC107;">Przyk≈Çady z praktyki:</h4>
    <ul style="text-align: left; font-size: 0.95rem; line-height: 1.8;">
      <li><strong>Factory Method:</strong> Calendar.getInstance(), NumberFormat.getInstance()</li>
      <li><strong>Abstract Factory:</strong> GUI (WindowsFactory: Button + Checkbox + ScrollBar)</li>
      <li><strong>Abstract Factory:</strong> Database (DatabaseFactory: Connection + Statement + ResultSet)</li>
    </ul>
  </div>
</section>

    <!-- slide-15-podsumowanie.html -->
    <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
  <h2>Podsumowanie</h2>

  <div style="text-align: left; margin: 30px auto; max-width: 800px;">
    <h3 style="color: #4CAF50;">Co osiƒÖgnƒôli≈õmy?</h3>
    <ul style="font-size: 1.1rem; line-height: 1.8;">
      <li><strong>Krok 1:</strong> Interfejs ‚Üí Polimorfizm</li>
      <li><strong>Krok 2:</strong> Factory Method ‚Üí If-else w jednym miejscu</li>
      <li><strong>Krok 3:</strong> Abstract Factory ‚Üí Rodziny produkt√≥w</li>
    </ul>

    <h3 style="color: #FFC107; margin-top: 30px;">Kluczowe koncepcje:</h3>
    <ul style="font-size: 1.1rem; line-height: 1.8;">
      <li><code>pokazSpecjalneFunkcje()</code> - jedna metoda, r√≥≈ºne implementacje</li>
      <li>Koenigsegg z 3 metodami ‚Üí automatycznie w jednej funkcji</li>
      <li>Fabryka zwraca interfejs, nie konkretnƒÖ klasƒô</li>
      <li>Abstract Factory gwarantuje sp√≥jno≈õƒá rodziny</li>
    </ul>

    <h3 style="color: #2196F3; margin-top: 30px;">Zasady SOLID:</h3>
    <ul style="font-size: 1.1rem; line-height: 1.8;">
      <li><strong>Open/Closed:</strong> Dodanie Ferrari nie wymaga zmian</li>
      <li><strong>Single Responsibility:</strong> Fabryka tylko tworzy</li>
      <li><strong>Dependency Inversion:</strong> Kod zale≈ºy od interfejs√≥w</li>
    </ul>
  </div>
</section>

    <!-- slide-16-dziekuje.html -->
    <section data-background-gradient="linear-gradient(135deg, #f093fb 0%, #f5576c 100%)">
  <h1>üéâ Dziƒôkujƒô!</h1>
  <h2>Wzorce Factory</h2>
  <p style="font-size: 1.5rem; margin-top: 40px;">Pytania?</p>
  <p style="font-size: 1.2rem; opacity: 0.9; margin-top: 30px;">Salon Bajtazara - Specjalne funkcje samochod√≥w</p>
  <p style="font-size: 0.9rem; opacity: 0.7; margin-top: 20px;">U≈ºyj ‚Üê ‚Üí aby nawigowaƒá po slajdach</p>
</section>

  </div>
</div>

<!-- Reveal init + logika animacji -->
<script src="https://unpkg.com/reveal.js/dist/reveal.js"></script>
<script>
  // Inicjalizacja Reveal
  Reveal.initialize({
    hash: true,
    controls: true,
    progress: true,
    center: false,
    transition: 'slide'
  });

  // ============================================
  // FUNKCJE POMOCNICZE (REUSABLE)
  // ============================================
  function createAnimatedCodeSlide(slideId, codeId, stepsId, nextBtnId, undoBtnId, resetBtnId, speedId, progressId, progressLabelId) {
    const slide = document.getElementById(slideId);
    const codeEl = document.getElementById(codeId);
    const steps = JSON.parse(document.getElementById(stepsId).textContent);
    const nextBtn = document.getElementById(nextBtnId);
    const undoBtn = document.getElementById(undoBtnId);
    const resetBtn = document.getElementById(resetBtnId);
    const progressEl = document.getElementById(progressId);
    const progressLabel = document.getElementById(progressLabelId);

    // Sta≈Ça prƒôdko≈õƒá (zamiast suwaka)
    const SPEED = 15;

    let stepIndex = 0;
    let current = "";
    let animationInterval = null;

    // Ustaw max dla suwaka postƒôpu
    progressEl.max = steps.length;

    // Aktualizuj label i suwak
    const updateProgress = () => {
      progressEl.value = stepIndex;
      progressLabel.textContent = `${stepIndex} / ${steps.length}`;
    };
    updateProgress();

    const highlight = () => {
      Prism.highlightElement(codeEl);
      // Auto-scroll do do≈Çu po dodaniu kodu
      codeEl.parentElement.scrollTop = codeEl.parentElement.scrollHeight;
    };
    const stopAnimation = () => {
      if (animationInterval) {
        clearInterval(animationInterval);
        animationInterval = null;
      }
    };

    function typeChunk(chunk) {
      stopAnimation();

      // Sprawd≈∫ czy to zastƒÖpienie linii
      if (chunk.startsWith('<<REPLACE_LINE>>')) {
        const newText = chunk.substring(16);
        const lastNewline = current.lastIndexOf('\n');
        const beforeLastLine = lastNewline >= 0 ? current.substring(0, lastNewline + 1) : '';

        let charsToDelete = current.length - beforeLastLine.length;
        let deleteInterval = setInterval(() => {
          if (charsToDelete > 0) {
            current = current.slice(0, -1);
            codeEl.textContent = current + '|';
            charsToDelete--;
          } else {
            clearInterval(deleteInterval);
            current = beforeLastLine;
            let i = 0;
            animationInterval = setInterval(() => {
              if (i < newText.length) {
                current += newText[i];
                codeEl.textContent = current + '|';
                i++;
              } else {
                clearInterval(animationInterval);
                animationInterval = null;
                codeEl.textContent = current;
                highlight();
              }
            }, SPEED);
          }
        }, Math.max(5, SPEED / 3));
        return;
      }

      // Normalne pisanie
      let i = 0;
      animationInterval = setInterval(() => {
        if (i < chunk.length) {
          current += chunk[i];
          codeEl.textContent = current + '|';
          i++;
        } else {
          clearInterval(animationInterval);
          animationInterval = null;
          codeEl.textContent = current;
          highlight();
        }
      }, SPEED);
    }

    function typeNextChunk() {
      if (stepIndex >= steps.length) return;
      const chunk = steps[stepIndex++];
      typeChunk(chunk);
      updateProgress();
    }

    function typeBackspace(chars = 1) {
      stopAnimation();
      const target = current.slice(0, Math.max(0, current.length - chars));
      let remaining = current.length - target.length;
      animationInterval = setInterval(() => {
        if (remaining > 0) {
          current = current.slice(0, -1);
          codeEl.textContent = current + '|';
          remaining--;
        } else {
          clearInterval(animationInterval);
          animationInterval = null;
          codeEl.textContent = current;
          highlight();
        }
      }, Math.max(5, SPEED / 2));
    }

    function resetSlide() {
      stopAnimation();
      codeEl.textContent = "";
      current = "";
      stepIndex = 0;
      updateProgress();
      highlight();
    }

    // Event listeners
    Reveal.on('slidechanged', e => {
      if (e.currentSlide === slide) resetSlide();
    });

    document.addEventListener('keydown', e => {
      const onTyping = Reveal.getCurrentSlide() === slide;
      const hasMore = stepIndex < steps.length;
      if (!onTyping) return;

      if ((e.key === 'ArrowRight' || e.code === 'Space') && hasMore) {
        e.preventDefault();
        typeNextChunk();
      }
    });

    // Funkcja przeskoku do wybranego kroku
    function jumpToStep(targetIndex) {
      stopAnimation();
      targetIndex = Math.max(0, Math.min(targetIndex, steps.length));

      // Buduj kod do wybranego kroku
      current = "";
      for (let i = 0; i < targetIndex; i++) {
        const chunk = steps[i];
        if (chunk.startsWith('<<REPLACE_LINE>>')) {
          // ZastƒÖp ostatniƒÖ liniƒô
          const newText = chunk.substring(16);
          const lastNewline = current.lastIndexOf('\n');
          current = lastNewline >= 0 ? current.substring(0, lastNewline + 1) + newText : newText;
        } else {
          current += chunk;
        }
      }

      stepIndex = targetIndex;
      codeEl.textContent = current;
      highlight();
      updateProgress();
    }

    nextBtn.addEventListener('click', typeNextChunk);
    undoBtn.addEventListener('click', () => {
      if (stepIndex > 0) {
        const lastLen = steps[stepIndex - 1].length;
        stepIndex = Math.max(0, stepIndex - 1);
        typeBackspace(lastLen);
        updateProgress();
      }
    });
    resetBtn.addEventListener('click', resetSlide);

    // Listener na suwak postƒôpu - przeskakiwanie do wybranego kroku
    progressEl.addEventListener('input', (e) => {
      const targetIndex = parseInt(e.target.value);
      jumpToStep(targetIndex);
    });
  }

  // ============================================
  // INICJALIZACJA SLAJD√ìW ANIMOWANYCH
  // ============================================

  // Slajd START
  createAnimatedCodeSlide(
    'code-slide-start',
    'code-start',
    'steps-start',
    'next-start',
    'undo-start',
    'reset-start',
    'speed-start',
    'progress-start',
    'progress-label-start'
  );

  // Slajd IF-ELSE
  createAnimatedCodeSlide(
    'code-slide-ifelse',
    'code-ifelse',
    'steps-ifelse',
    'next-ifelse',
    'undo-ifelse',
    'reset-ifelse',
    'speed-ifelse',
    'progress-ifelse',
    'progress-label-ifelse'
  );

  // Slajd INTERFEJS
  createAnimatedCodeSlide(
    'code-slide-interface',
    'code-interface',
    'steps-interface',
    'next-interface',
    'undo-interface',
    'reset-interface',
    'speed-interface',
    'progress-interface',
    'progress-label-interface'
  );

  // Slajd FACTORY
  createAnimatedCodeSlide(
    'code-slide-factory',
    'code-factory',
    'steps-factory',
    'next-factory',
    'undo-factory',
    'reset-factory',
    'speed-factory',
    'progress-factory',
    'progress-label-factory'
  );
</script>
</body>
</html>
